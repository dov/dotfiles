{% extends "pricing/base_calculators.html" %}

{% block content %}
  
 <h2>Fee Comparison</h2>
  <table width="75%" border="1" summary="table for choosing fee comparison">
  	<thead>
    <tr><th>Name</th><th>Author</th><th>Allowed Groups</th></tr>
	</thead>
	<tbody>
  	{% if fee_comparison %}
	  <tr>
	  	<td>{{fee_comparison.name}}</td>
		<td>{{fee_comparison.author}}</td>
		<td>{{fee_comparison.allowed_groups.all}}</td>
	  </tr>
    {% endif %}
	</tbody>
  </table>
   
    <h2>Line items</h2>
    
    <table width="90%" border="1" summary="detailed line items of fee comparison">
    	<thead>
	      <tr>
			<th>Fee Type</th>
			<th>Framework Panel</th>
			<th>Level of Court</th>
			<th>Type of Work</th>
			<th>Seniority</th>
			<th>Quantity</th>
	      </tr>
	  </thead>
	  <tbody>
      {%if lines %}
		{% for line in lines %}
		  <tr class="{% cycle 'row1' 'row2' %}">
		    <td>{{line.fee_type}}</td>
		    <td>{{line.framework_panel}}</td>
		    <td>{{line.level_of_court}}</td>
		    <td>{{line.type_of_work}}</td>
		    <td>{{line.seniority}}</td>
		    <td>{{line.quantity}}</td>
		  </tr>
		{% endfor %}
      {% endif %}
	  </tbody>
    </table>
    
<h2>Matching Chambers/Firms and Total Fees</h2>
    <table width="50%" border="1" summary="table of matching chambers and their total fees">
    	<thead>
	      <tr>
			<th>Chamber/Firm Name</th>
			<th>Total Fee</th>
	      </tr>
		</thead>
		<tbody>
	  {% for fee_calculation in fee_calculations %}
	  	<tr class="{% cycle 'row1' 'row2' %}">
			<td><a 	title="click for firm/chamber's relevant barristers"	
					href="{% url chamber_for_invoice chamber_id=fee_calculation.chamber.id feecalc_id=fee_calculation.id %}">
				{{fee_calculation.chamber}}
			</a></td>
			<td><a 	title="click for firm/chamber's detailed calculations" 
					href="{% url pricing.views.fee_calculation_view fee_calculation.id %}">
				{{fee_calculation.overall_total|currency}}</a>
			</td>
		</tr>
	  {% endfor %}
	  </tbody>
    </table>
  
{% endblock content %}
