{% extends "pricing/base_parameters.html" %}
{% load getattribute %}

{% block sidebar %}{{ block.super }}
{% endblock %}

{% block content %}
<h2>Contents</h2>
<ul>
    {% for lawyer_type in lawyer_types %}
    <li><a href="#{{lawyer_type|slugify}}">{{lawyer_type}}</a></li>
    <ul>
        <li><a href="#{{lawyer_type|slugify}}_panels">Panels</a></li>
        <li><a href="#{{lawyer_type|slugify}}_chambers">Chambers</a></li>
    </ul>
    {% endfor %}
</ul>

{% for lawyer_type in lawyer_types %}
<h2><a id="{{lawyer_type|slugify}}">{{lawyer_type}}</a></h2>


<h3><a id="{{lawyer_type|slugify}}_panels">Panels</a></h3>
	<table class="parameter_table" summary="details of corresponding other parameters">
	    <thead><tr>
	        <th>Panel</th><th>Appointed Chambers</th>
	    </tr></thead>
		<tbody>
		{% for panel in all_panels %}
            {% if panel.professional_type == lawyer_type %}
                <tr class="{%cycle 'row1' 'row2'%}">
                    <td>{{panel}}</td>
                    <td>{% for chamber in panel.chambers %}
                        <a href="{% url pricing.views.chamber_view chamber.id %}">{{chamber}}</a><br/>
                        {% endfor %}
                    </td>
                </tr>
            {% endif %}
		{% endfor %}
		</tbody>
	</table>


<h3><a id="{{lawyer_type|slugify}}_chambers">Chambers</a></h3>
	<table class="parameter_table" summary="details of corresponding other parameters">
	    <thead><tr>
	        <th>Chamber</th><th>Panels appointed to</th>
	    </tr></thead>
		<tbody>
		{% for panel in all_chambers %}
            {% if chamber.professional_type == lawyer_type %}
                <tr class="{%cycle 'row1' 'row2'%}">
                    <td>{{chamber}}</td>
                    <td>{% for panel in chamber.panels %}
                            {{panel}}<br / >
                        {% endfor %}
                    </td>
                </tr>
            {% endif %}
		{% endfor %}
		</tbody>
	</table>
	

{% endblock %}
